<Project Sdk="Microsoft.NET.Sdk">
    <Import Project="..\..\..\common.props" />
    <PropertyGroup>
       <TargetFramework>net5.0</TargetFramework>
        <Description>The package contains the component package used to build Silky micro service universal host</Description>

    </PropertyGroup>

    <ItemGroup>
      <ProjectReference Include="..\Silky.Codec.MessagePack\Silky.Codec.MessagePack.csproj" />
      <ProjectReference Include="..\Silky.Codec.ProtoBuf\Silky.Codec.ProtoBuf.csproj" />
      <ProjectReference Include="..\Silky.Logging.Serilog\Silky.Logging.Serilog.csproj" />
      <ProjectReference Include="..\Silky.Validation.Fluent\Silky.Validation.Fluent.csproj" />
      <ProjectReference Include="..\Silky.Transaction.Repository.Redis\Silky.Transaction.Repository.Redis.csproj" />
      <ProjectReference Include="..\Silky.Zookeeper\Silky.Zookeeper.csproj" />
      <ProjectReference Include="..\Silky.Rpc.Proxy\Silky.Rpc.Proxy.csproj" />
      <ProjectReference Include="..\Silky.Caching.StackExchangeRedis\Silky.Caching.StackExchangeRedis.csproj" />
      <ProjectReference Include="..\Silky.Caching\Silky.Caching.csproj" />
      <ProjectReference Include="..\Silky.Castle\Silky.Castle.csproj" />
      <ProjectReference Include="..\Silky.Core\Silky.Core.csproj" />
      <ProjectReference Include="..\Silky.DotNetty.Abstraction\Silky.DotNetty.Abstraction.csproj" />
      <ProjectReference Include="..\Silky.DotNetty.Protocol.Tcp\Silky.DotNetty.Protocol.Tcp.csproj" />
      <ProjectReference Include="..\Silky.RegistryCenter.Zookeeper\Silky.RegistryCenter.Zookeeper.csproj" />
      <ProjectReference Include="..\Silky.Rpc.Proxy\Silky.Rpc.Proxy.csproj" />
      <ProjectReference Include="..\Silky.Rpc\Silky.Rpc.csproj" />
      <ProjectReference Include="..\Silky.Transaction.Tcc\Silky.Transaction.Tcc.csproj" />
    </ItemGroup>
    
    <Target Name="PopulateNuspec">
        <PropertyGroup>
            <NuspecProperties>
                id=$(PackageId);
                authors=$(Authors);
                configuration=$(Configuration);
                description=$(PackageDescription);
                licenseExpression=$(PackageLicenseExpression);
                licenseUrl=$(LicenseUrl);
                projectUrl=$(PackageProjectUrl);
                repositoryType=$(RepositoryType);
                repositoryUrl=$(RepositoryUrl);
                tags=$(PackageTags.Replace(';', ' '));
                targetPath=$(TargetPath);
                version=$(PackageVersion);
                microsoftExtensionsApiDescriptionServerPackageVersion=$(MicrosoftExtensionsApiDescriptionServerPackageVersion);
            </NuspecProperties>
        </PropertyGroup>
    </Target>
</Project>
